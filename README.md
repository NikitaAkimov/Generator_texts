# Generator_texts

Дана задача задача сгенерировать текст. Это значит, нам нужно взять слова и выстроить их в определенном порядке. Как определить этот порядок? Мы можем пойти следующим образом: построить фразы, наиболее вероятные для русского языка. Но что значит вероятность фразы языка? Эту вероятность можно задать формально как вероятность возникновения последовательности слов в неком корпусе (наборе текстов). К примеру, вероятность фразы «счастье есть удовольствие без раскаяния» можно вычислить как произведение вероятностей каждого из слов этой фразы:
<h3>P = P(счастье) P(есть|счастье) P(удовольствие|счастье есть) P(без|счастье есть удовольствие) P(раскаяния|счастье есть удовольствие без)</h3>
Чтобы рассчитать вероятность P(счастье) нужно всего лишь посчитать сколько раз это слово встретилось в тексте и поделить это значение на общее число слов. Но рассчитать вероятность P(раскаяния|счастье есть удовольствие без) уже не так просто. Но, мы можем упростить эту задачу. Примем, что вероятность слова в тексте зависит только от предыдущего слова. Тогда наша формула для расчета фразы примет следующий вид:
<h3>P = P(счастье) P(есть|счастье) P(удовольствие|есть) P(без|удовольствие) P(раскаяния|без)</h3>
Рассчитать условную вероятность P(есть|счастье) несложно. Для этого считаем количество пар 'счастье есть' и делим на количество в тексте слова 'счастье':
<h3>P(есть|счастье) = C(счастье есть)/С(счастье)</h3>
В результате, если мы посчитаем все пары слов в некотором тексте, мы сможем вычислить вероятность произвольной фразы. А если мы сможем вычислить вероятность фразы, мы можем подобрать наиболее «правдоподобные» сочетания слов в данном тексте для автоматической генерации. Эти пары слов называются биграммы, а набор рассчитанных вероятностей — биграммной моделью.

Хочу также отметить, что для нашего алгоритма мы используем не биграммы, а триграммы. Отличие в том, что условная вероятность слова определяется не по одному, а по двум предыдущим словам. То есть вместо P(удовольствие|счастье) мы будем вычислять P(удовольствие|счастье есть). Формула вычисления подобна формуле для биграмм:
<h3>P(удовольствие|счастье есть) = C(счастье есть удовольствие)/С(счастье есть)</h3>
Итак, генерацию текста можно провести следующим образом. Мы будем формировать отдельно каждое предложение, выполняя следующие шаги:
<ul>
  <li>выбираем слово, наиболее вероятное для начала предложения;</li>
  <li>подбираем наиболее вероятное слово-продолжение в зависимости от двух предыдущих слов;</li>
  <li>повторяем предыдущий шаг до тех пор, пока не встретим символ конца предложения.</li>
</ul>
